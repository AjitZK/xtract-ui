(this["webpackJsonpxtract-ui"]=this["webpackJsonpxtract-ui"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/XtractIcon.c7c317d8.png"},19:function(e,t,n){e.exports=n.p+"static/media/fillForm.a742235e.svg"},20:function(e,t,n){e.exports=n.p+"static/media/getAccount.106864a8.svg"},21:function(e,t,n){e.exports=n.p+"static/media/uploadDoc.1b510958.svg"},24:function(e,t,n){e.exports=n(40)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),l=n.n(c),i=(n(29),n(12)),o=Object(a.createContext)(),u=function(e){var t=e.reducer,n=e.initialState,c=e.children;return r.a.createElement(o.Provider,{value:Object(a.useReducer)(t,n)},c)},s=(n(30),n(3)),m=n(13),p=(n(31),Object(a.createContext)()),d=function(e){var t=e.reducer,n=e.initialState,c=e.children;return r.a.createElement(p.Provider,{value:Object(a.useReducer)(t,n)},c)},f=function(){return Object(a.useContext)(p)},b=n(10),E=function(e){var t=e.timeout,n=void 0===t?550:t;return new Promise((function(e){setTimeout((function(){e()}),n)}))},v=function(){var e=f(),t=Object(b.a)(e,2),n=t[0],r=n.files,c=n.pending,l=n.next,i=n.uploading,o=n.uploaded,u=n.status,s=t[1],m=Object(a.useCallback)((function(e){e.preventDefault(),r.length?(console.log("submit is called",r),s({type:"submit"})):window.alert("You don't have any files loaded.")}),[r.length]);Object(a.useEffect)((function(){if(c.length&&null==l){var e=c[0];console.log("next",e),s({type:"next",next:e})}}),[l,c]);var p=Object(a.useRef)(0);return Object(a.useEffect)((function(){c.length&&l&&E(l).then((function(){var e=l;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"green",n="%cUploaded ".concat(e," files."),a="color:".concat(t,";font-weight:bold;");console.log(n,a)}(++p.current),console.log("process next file",e,c.slice(1));var t=c.slice(1);s({type:"file-uploaded",prev:e,pending:t})})).catch((function(e){console.error(e),s({type:"set-upload-error",error:e})}))}),[r,c,l,i,o,u]),Object(a.useEffect)((function(){!c.length&&i&&(console.log("files are uploaded"),s({type:"files-uploaded"}))}),[c.length,i]),{onSubmit:m,onChange:function(e){if(e.target.files.length){var t=Array.from(e.target.files).map((function(e,t){return{file:e,id:t,src:window.URL.createObjectURL(e)}})),n=r.concat(t);console.log("allFiles",n),s({type:"load",files:n})}}}},g=function(e){return r.a.createElement("div",{className:"File-Input-Component"},r.a.createElement("input",Object.assign({className:"",type:"file",accept:"image/*",name:"img-loader-input",multiple:!0},e)),r.a.createElement("button",{className:"Choose-Files-Button"},"Choose File"))},O=function(){var e=v(),t=e.onSubmit,n=e.onChange,a=f(),c=Object(b.a)(a,1)[0],l=c.files,i=(c.pending,c.next,c.uploading,c.uploaded),o=c.status;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form",onSubmit:t},"FILES_UPLOADED"===o&&r.a.createElement("div",{className:"success-container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Congratulations!"),r.a.createElement("small",null,"You uploaded your files. Get some rest."))),r.a.createElement("div",{className:"Button-Group"},r.a.createElement(g,{onChange:n}),r.a.createElement("button",{type:"submit",className:"Submit-Button"},"Submit")),r.a.createElement("div",null,l.map((function(e,t){var n=e.file,a=e.src,c=e.id;return r.a.createElement("div",{style:{opacity:i[c]?.2:1},key:"thumb".concat(t),className:"thumbnail-wrapper"},r.a.createElement("img",{className:"thumbnail",src:a,alt:""}),r.a.createElement("div",{className:"thumbnail-caption"},n.name))})))))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){return r.a.createElement(d,{initialState:{files:[],pending:[],next:null,uploading:!1,uploaded:{},status:"idle"},reducer:function(e,t){switch(t.type){case"load":return j({},e,{files:t.files,status:"LOADED"});case"submit":return j({},e,{uploading:!0,pending:e.files,status:"INIT"});case"next":return j({},e,{next:t.next,status:"PENDING"});case"file-uploaded":return j({},e,{next:null,pending:t.pending,uploaded:j({},e.uploaded,Object(m.a)({},t.prev.id,t.prev.file))});case"files-uploaded":return j({},e,{uploading:!1,status:"FILES_UPLOADED"});case"set-upload-error":return j({},e,{uploadError:t.error,status:"UPLOAD_ERROR"});default:return e}}},r.a.createElement(O,null))},N=n(4),w=n(5),D=n(7),x=n(6),S=n(8),P=n(18),C=n.n(P),F=function(e){function t(){return Object(N.a)(this,t),Object(D.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header-component"},r.a.createElement("img",{className:"App-icon",src:C.a}),r.a.createElement("div",{className:"App-title"},"Xtract"),r.a.createElement("div",{className:""}))}}]),t}(a.Component),k=function(e){function t(){return Object(N.a)(this,t),Object(D.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:""})))}}]),t}(a.Component),A=n(19),T=n.n(A),I=n(20),L=n.n(I),R=n(21),U=n.n(R),B=function(e){function t(){return Object(N.a)(this,t),Object(D.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"Tutorial"},r.a.createElement("img",{className:"Tutorial-Step Fill-Form",src:T.a}),r.a.createElement("i",{className:"fas fa-plus-circle Tutorial-Flow"}),r.a.createElement("img",{className:"Tutorial-Step Upload-Doc",src:U.a}),r.a.createElement("i",{className:"fas fa-arrow-circle-right Tutorial-Flow"}),r.a.createElement("img",{className:"Tutorial-Step Get-Account",src:L.a})),r.a.createElement("div",{className:"Tutorial-Description"},r.a.createElement("div",{className:"Description Describe1"},"Fill in the Form"),r.a.createElement("div",{className:"Description Describe2"},"Upload your Documentation"),r.a.createElement("div",{className:"Description Describe3"},"Get an Account")))}}]),t}(a.Component);function G(){return r.a.createElement("div",null,r.a.createElement("div",{className:"background"}),r.a.createElement(s.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/"},r.a.createElement(F,null),r.a.createElement(B,null),r.a.createElement(y,null),r.a.createElement(k,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(u,{initialState:{},reducer:function(e,t){return t.type,e}},r.a.createElement(i.a,null,r.a.createElement(G,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.baf443c4.chunk.js.map